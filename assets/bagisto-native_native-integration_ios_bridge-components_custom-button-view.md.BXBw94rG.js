import{j as e,c as o,b as a,ah as n}from"./chunks/framework.Br27zpCu.js";const g=JSON.parse('{"title":"Dynamic Button","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/native-integration/ios/bridge-components/custom-button-view.md","filePath":"bagisto-native/native-integration/ios/bridge-components/custom-button-view.md","lastUpdated":1769687094000}'),i={name:"bagisto-native/native-integration/ios/bridge-components/custom-button-view.md"};function d(l,t,s,c,r,h){return a(),o("div",null,[...t[0]||(t[0]=[n('<h1 id="dynamic-button" tabindex="-1">Dynamic Button <a class="header-anchor" href="#dynamic-button" aria-label="Permalink to &quot;Dynamic Button&quot;">​</a></h1><p>The <code>Dynamic Button</code> is a versatile iOS bridge component that dynamically manages navigation bar buttons, including cart badges, search/scan actions, and product share.</p><h2 id="basic-info" tabindex="-1">Basic Info <a class="header-anchor" href="#basic-info" aria-label="Permalink to &quot;Basic Info&quot;">​</a></h2><ul><li><strong>Source File</strong>: <a href="https://github.com/SocialMobikul/BagistoNative_iOS/blob/main/Sources/BagistoNative_iOS/Classes/Components/CustomButtonView.swift" target="_blank" rel="noreferrer">CustomButtonView.swift</a></li><li><strong>Bridge Name</strong>: <code>dynamicbutton</code></li></ul><h2 id="incoming-events-web-→-native" tabindex="-1">Incoming Events (Web → Native) <a class="header-anchor" href="#incoming-events-web-→-native" aria-label="Permalink to &quot;Incoming Events (Web → Native)&quot;">​</a></h2><p>The component listens for several events dispatched from the web view.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Event</th><th style="text-align:left;">Description</th><th style="text-align:left;">Data Structure</th><th style="text-align:left;">Metadata</th></tr></thead><tbody><tr><td style="text-align:left;"><code>connect</code> / <code>home</code></td><td style="text-align:left;">Configures the navigation bar for the home context (Cart, QR Scan, Barcode Scan).</td><td style="text-align:left;"><code>{&quot;cart&quot;: &quot;count_string&quot;}</code></td><td style="text-align:left;">N/A</td></tr><tr><td style="text-align:left;"><code>product</code></td><td style="text-align:left;">Configures the navigation bar for the product context (Cart, Share).</td><td style="text-align:left;"><code>{&quot;cart&quot;: &quot;count_string&quot;}</code></td><td style="text-align:left;"><code>{&quot;url&quot;: &quot;share_url&quot;}</code></td></tr><tr><td style="text-align:left;"><code>navigationbackhide</code></td><td style="text-align:left;">Hides the navigation back button.</td><td style="text-align:left;">N/A</td><td style="text-align:left;">N/A</td></tr><tr><td style="text-align:left;"><code>modalopen</code></td><td style="text-align:left;">Hides the back button and shows a cross (dismiss) button.</td><td style="text-align:left;">N/A</td><td style="text-align:left;">N/A</td></tr><tr><td style="text-align:left;"><code>modaldismiss</code></td><td style="text-align:left;">Shows the back button if the web view can go back.</td><td style="text-align:left;">N/A</td><td style="text-align:left;">N/A</td></tr><tr><td style="text-align:left;"><code>cartcount</code></td><td style="text-align:left;">Updates the cart badge count dynamically.</td><td style="text-align:left;"><code>{&quot;count&quot;: &quot;count_string&quot;}</code></td><td style="text-align:left;">N/A</td></tr></tbody></table><h3 id="detailed-event-logic" tabindex="-1">Detailed Event Logic <a class="header-anchor" href="#detailed-event-logic" aria-label="Permalink to &quot;Detailed Event Logic&quot;">​</a></h3><h4 id="home-connect" tabindex="-1"><code>home</code> / <code>connect</code> <a class="header-anchor" href="#home-connect" aria-label="Permalink to &quot;`home` / `connect`&quot;">​</a></h4><p>Adds three buttons to the right side of the navigation bar:</p><ol><li><strong>Cart Button</strong>: Shows a badge with the cart count (from <code>json.cart</code>). Tapping it sends a <code>cart</code> reply.</li><li><strong>QR Scanner</strong>: Opens a native QR code scanner. On completion, sends a <code>scan</code> reply with the result.</li><li><strong>Barcode Scanner</strong>: Opens an ML-powered barcode scanner with options for &quot;Detect Object&quot; or &quot;Read Text&quot;. On completion, sends a <code>scan</code> reply with the result.</li></ol><h4 id="product" tabindex="-1"><code>product</code> <a class="header-anchor" href="#product" aria-label="Permalink to &quot;`product`&quot;">​</a></h4><p>Adds two buttons to the right side of the navigation bar:</p><ol><li><strong>Cart Button</strong>: Shows a badge with the cart count (from <code>json.cart</code>).</li><li><strong>Share Button</strong>: Opens the native iOS share sheet using the URL provided in <code>message.metadata.url</code>.</li></ol><hr><h2 id="outgoing-events-native-→-web" tabindex="-1">Outgoing Events (Native → Web) <a class="header-anchor" href="#outgoing-events-native-→-web" aria-label="Permalink to &quot;Outgoing Events (Native → Web)&quot;">​</a></h2><p>These are sent as replies to the initial message that registered the component or button.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Action</th><th style="text-align:left;">Reply Type</th><th style="text-align:left;">Data Structure</th><th style="text-align:left;">Trigger</th></tr></thead><tbody><tr><td style="text-align:left;">Tapping Cart Button</td><td style="text-align:left;"><code>cart</code></td><td style="text-align:left;">N/A</td><td style="text-align:left;">User taps cart icon or badge.</td></tr><tr><td style="text-align:left;">Modal Dismissed</td><td style="text-align:left;"><code>modal_dismiss</code></td><td style="text-align:left;"><code>{&quot;code&quot;: &quot;modal_dismiss&quot;}</code></td><td style="text-align:left;">User taps the cross (X) button.</td></tr><tr><td style="text-align:left;">QR/Barcode Scanned</td><td style="text-align:left;"><code>scan</code></td><td style="text-align:left;"><code>{&quot;code&quot;: &quot;result_string&quot;}</code></td><td style="text-align:left;">Scanner successfully detects a code.</td></tr><tr><td style="text-align:left;">ML Object/Text Detected</td><td style="text-align:left;"><code>scan</code></td><td style="text-align:left;"><code>{&quot;code&quot;: &quot;result_string&quot;}</code></td><td style="text-align:left;">ML scanner successfully detects object/text.</td></tr></tbody></table><hr><h2 id="technical-details" tabindex="-1">Technical Details <a class="header-anchor" href="#technical-details" aria-label="Permalink to &quot;Technical Details&quot;">​</a></h2><ul><li><strong>Cart Badge</strong>: The badge updates automatically when the <code>cartcount</code> event is received or when context changes (<code>home</code>, <code>product</code>).</li><li><strong>Back Button</strong>: Automatically hides when <code>navigationbackhide</code> is received or when navigation starts in a modal context.</li><li><strong>Scanner</strong>: The QR scanner supports <code>.qr</code>, <code>.ean13</code>, and <code>.ean8</code> formats.</li></ul>',21)])])}const b=e(i,[["render",d]]);export{g as __pageData,b as default};
