import{j as a,c as e,b as i,ah as s}from"./chunks/framework.Br27zpCu.js";const k=JSON.parse('{"title":"Dynamic Button (<dynamic-button>)","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/core-module/web-components/dynamic-button.md","filePath":"bagisto-native/core-module/web-components/dynamic-button.md","lastUpdated":1769173076000}'),n={name:"bagisto-native/core-module/web-components/dynamic-button.md"};function l(h,t,r,d,o,p){return i(),e("div",null,[...t[0]||(t[0]=[s(`<h1 id="dynamic-button-dynamic-button" tabindex="-1">Dynamic Button (<code>&lt;dynamic-button&gt;</code>) <a class="header-anchor" href="#dynamic-button-dynamic-button" aria-label="Permalink to &quot;Dynamic Button (\`&lt;dynamic-button&gt;\`)&quot;">​</a></h1><p>The <code>&lt;dynamic-button&gt;</code> is a context-aware controller that instructs the native app to show specific buttons in the Top Navigation Bar.</p><h2 id="attributes" tabindex="-1">Attributes <a class="header-anchor" href="#attributes" aria-label="Permalink to &quot;Attributes&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">Attribute</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>data-page-type</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">Defines the current context (<code>home</code>, <code>product</code>, <code>category</code>).</td></tr></tbody></table><h2 id="feature-breakdown" tabindex="-1">Feature Breakdown <a class="header-anchor" href="#feature-breakdown" aria-label="Permalink to &quot;Feature Breakdown&quot;">​</a></h2><p>The <code>data-page-type</code> attribute determines which native buttons are displayed and what actions they perform.</p><h3 id="_1-home-page-data-page-type-home" tabindex="-1">1. Home Page (<code>data-page-type=&quot;home&quot;</code>) <a class="header-anchor" href="#_1-home-page-data-page-type-home" aria-label="Permalink to &quot;1. Home Page (\`data-page-type=&quot;home&quot;\`)&quot;">​</a></h3><ul><li><strong>Image Search</strong>: Triggers the native image/object detection interface. After an object is detected, the native app results in a search key.</li><li><strong>QR &amp; Barcode Search</strong>: Triggers the native scanner. Once a code is scanned, it is passed back to the web view via a custom event.</li><li><strong>Cart</strong>: Displays the native cart icon. Clicking it triggers a navigation or modal event.</li></ul><h3 id="_2-product-page-data-page-type-product" tabindex="-1">2. Product Page (<code>data-page-type=&quot;product&quot;</code>) <a class="header-anchor" href="#_2-product-page-data-page-type-product" aria-label="Permalink to &quot;2. Product Page (\`data-page-type=&quot;product&quot;\`)&quot;">​</a></h3><ul><li><strong>Product Share</strong>: Triggers the native share sheet, allowing users to share the product URL using system defaults.</li><li><strong>Cart</strong>: Displays the native cart icon.</li></ul><hr><h2 id="events-emitted-to-web" tabindex="-1">Events Emitted to Web <a class="header-anchor" href="#events-emitted-to-web" aria-label="Permalink to &quot;Events Emitted to Web&quot;">​</a></h2><p>When users interact with these native buttons, the bridge emits standard <code>CustomEvent</code> objects to the <code>window</code>.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Event</th><th style="text-align:left;">Detail</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>turbo:next-search</code></td><td style="text-align:left;"><code>{ code: string }</code></td><td style="text-align:left;">Emitted after a successful Barcode/QR scan or Image Search.</td></tr><tr><td style="text-align:left;"><code>turbo:next-cart-modal</code></td><td style="text-align:left;"><code>null</code></td><td style="text-align:left;">Emitted when the user taps the native Cart icon.</td></tr></tbody></table><h3 id="handling-search-events" tabindex="-1">Handling Search Events <a class="header-anchor" href="#handling-search-events" aria-label="Permalink to &quot;Handling Search Events&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;turbo:next-search&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> customEvent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CustomEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> searchKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> customEvent.detail.query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> customEvent.detail.code;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Native search triggered with key:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, searchKey);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Perform your search logic or redirection here</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h3 id="handling-cart-modal-events" tabindex="-1">Handling Cart Modal Events <a class="header-anchor" href="#handling-cart-modal-events" aria-label="Permalink to &quot;Handling Cart Modal Events&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;turbo:next-cart-modal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Native cart icon tapped&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Open your web-based cart drawer or redirect to /cart</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><hr><h2 id="utility-sending-cart-count" tabindex="-1">Utility: Sending Cart Count <a class="header-anchor" href="#utility-sending-cart-count" aria-label="Permalink to &quot;Utility: Sending Cart Count&quot;">​</a></h2><p>To update the badge count on the native cart icon, use the <code>triggerCartCountValue</code> utility from <code>@bagisto-native/core</code>.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { triggerCartCountValue } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@bagisto-native/core&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Update native cart badge to 5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">triggerCartCountValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><hr><h2 id="ready-event" tabindex="-1">Ready Event <a class="header-anchor" href="#ready-event" aria-label="Permalink to &quot;Ready Event&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">Event Name</th><th style="text-align:left;">Frequency</th></tr></thead><tbody><tr><td style="text-align:left;"><code>bagisto-native:dynamic-button-ready</code></td><td style="text-align:left;">Dispatched once the component connects and is ready.</td></tr></tbody></table><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Explore <a href="./hotwire-toast">Hotwire toast</a></li><li>Learn about <a href="./hotwire-search">Hotwire search</a></li><li>Understand <a href="./when-to-use-directly-vs-react-wrappers">When to Use Directly vs React Wrappers</a></li></ul>`,27)])])}const g=a(n,[["render",l]]);export{k as __pageData,g as default};
