import{j as c,E as h,c as g,b as i,q as t,h as n,ah as s,f as a,w as r,I as l,ai as d}from"./chunks/framework.Br27zpCu.js";const x=JSON.parse('{"title":"Architecture Overview","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-headless-ecommerce/overview/architecture-overview.md","filePath":"bagisto-headless-ecommerce/overview/architecture-overview.md","lastUpdated":1768401316000}'),u={name:"bagisto-headless-ecommerce/overview/architecture-overview.md"};function p(m,e,f,A,b,v){const o=h("Mermaid");return i(),g("div",null,[e[2]||(e[2]=t("h1",{id:"architecture-overview",tabindex:"-1"},[a("Architecture Overview "),t("a",{class:"header-anchor",href:"#architecture-overview","aria-label":'Permalink to "Architecture Overview"'},"​")],-1)),e[3]||(e[3]=t("p",null,"This document provides a detailed look at the technical architecture of the Bagisto Headless project. It explains how the decoupled frontend (Next.js) and backend (Bagisto) interact via the GraphQL API to deliver a seamless e-commerce experience.",-1)),e[4]||(e[4]=t("h2",{id:"_1-high-level-architecture",tabindex:"-1"},[a("1. High-Level Architecture "),t("a",{class:"header-anchor",href:"#_1-high-level-architecture","aria-label":'Permalink to "1. High-Level Architecture"'},"​")],-1)),e[5]||(e[5]=t("p",null,[a("The project follows a "),t("strong",null,"headless architecture"),a(' (also known as "Modern Decoupled"), where the Presentation Layer is completely separated from the Commerce Logic and Data Storage.')],-1)),(i(),n(d,null,{default:r(()=>[l(o,{id:"mermaid-12",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20User(%5BEnd%20User%5D)%0A%20%20%20%20NextJS%5B%22Next.js%20Storefront%20(Frontend)%22%5D%0A%20%20%20%20GraphQL%5B%22GraphQL%20API%22%5D%0A%20%20%20%20Bagisto%5B%22Bagisto%20Backend%20(Business%20Logic)%22%5D%0A%20%20%20%20DB%5B(MySQL%2FPostgres%20Database)%5D%0A%20%20%20%20Redis%5B(Redis%20Cache)%5D%0A%20%20%20%20User%20%3C--%3E%20NextJS%0A%20%20%20%20NextJS%20--%20%22GraphQL%20Queries%2FMutations%22%20--%3E%20GraphQL%0A%20%20%20%20GraphQL%20%3C--%3E%20Bagisto%0A%20%20%20%20Bagisto%20%3C--%3E%20DB%0A%20%20%20%20Bagisto%20%3C--%3E%20Redis%0A"})]),fallback:r(()=>[...e[0]||(e[0]=[a(" Loading... ",-1)])]),_:1})),e[6]||(e[6]=s('<h2 id="_2-component-roles" tabindex="-1">2. Component Roles <a class="header-anchor" href="#_2-component-roles" aria-label="Permalink to &quot;2. Component Roles&quot;">​</a></h2><h3 id="_2-1-frontend-next-js-storefront" tabindex="-1">2.1 Frontend: Next.js Storefront <a class="header-anchor" href="#_2-1-frontend-next-js-storefront" aria-label="Permalink to &quot;2.1 Frontend: Next.js Storefront&quot;">​</a></h3><p>The frontend is built with <strong>Next.js</strong>, leveraging React for the UI. Its primary responsibilities include:</p><ul><li><strong>Presentation:</strong> Rendering the store UI using Tailwind CSS and HeroUI.</li><li><strong>Routing:</strong> Managing client-side and server-side navigation.</li><li><strong>Data Fetching:</strong> Initiating requests to the Bagisto API using Apollo Client.</li><li><strong>State Management:</strong> Tracking cart items, user sessions (via NextAuth.js), and UI states.</li><li><strong>SEO/Performance:</strong> Utilizing SSG for static content and ISR for dynamic product updates.</li></ul><h3 id="_2-2-api-layer-graphql" tabindex="-1">2.2 API Layer: GraphQL <a class="header-anchor" href="#_2-2-api-layer-graphql" aria-label="Permalink to &quot;2.2 API Layer: GraphQL&quot;">​</a></h3><p>Bagisto serves its GraphQL API. This layer acts as the bridge:</p><ul><li><strong>Schema Definition:</strong> Defines the data types and operations (Queries/Mutations) available to the frontend.</li><li><strong>Abstraction:</strong> Hides the complexity of Laravel&#39;s internal models.</li><li><strong>Efficiency:</strong> Allows the frontend to request exactly what it needs, reducing payload sizes.</li></ul><h3 id="_2-3-backend-bagisto-core" tabindex="-1">2.3 Backend: Bagisto Core <a class="header-anchor" href="#_2-3-backend-bagisto-core" aria-label="Permalink to &quot;2.3 Backend: Bagisto Core&quot;">​</a></h3><p>Built on <strong>Laravel</strong>, the backend manages the core commerce logic:</p><ul><li><strong>Catalog Management:</strong> Categories, products, attributes.</li><li><strong>Order Management:</strong> Checkout flows, tax calculations, shipping.</li><li><strong>Customer Management:</strong> Profiles, wishlists, address books.</li><li><strong>Admin Dashboard:</strong> A centralized portal for store administrators.</li></ul><h2 id="_3-data-flow-and-interaction" tabindex="-1">3. Data Flow and Interaction <a class="header-anchor" href="#_3-data-flow-and-interaction" aria-label="Permalink to &quot;3. Data Flow and Interaction&quot;">​</a></h2><h3 id="_3-1-fetching-catalog-data-ssg-isr" tabindex="-1">3.1 Fetching Catalog Data (SSG/ISR) <a class="header-anchor" href="#_3-1-fetching-catalog-data-ssg-isr" aria-label="Permalink to &quot;3.1 Fetching Catalog Data (SSG/ISR)&quot;">​</a></h3><p>For public pages like Home or Production Detail Pages (PDP), Next.js performs the data fetch on the server side.</p><ol><li><strong>Build/Regeneration:</strong> Next.js triggers a <code>fetch</code> request to the <code>/graphql</code> endpoint.</li><li><strong>API Processing:</strong> The query is resolved using Bagisto&#39;s internal services.</li><li><strong>HTML Generation:</strong> Next.js receives the JSON, populates the React components, and generates static HTML.</li><li><strong>Delivery:</strong> The static HTML is served to the user instantly.</li></ol><h3 id="_3-2-dynamic-user-actions-client-side" tabindex="-1">3.2 Dynamic User Actions (Client-Side) <a class="header-anchor" href="#_3-2-dynamic-user-actions-client-side" aria-label="Permalink to &quot;3.2 Dynamic User Actions (Client-Side)&quot;">​</a></h3><p>For actions like &quot;Add to Cart&quot; or &quot;Login&quot;:</p><ol><li><strong>User Action:</strong> The user clicks a button in the browser.</li><li><strong>Mutation:</strong> Apollo Client sends a GraphQL Mutation to the server.</li><li><strong>Session Handling:</strong> The request includes an authentication token or session cookie.</li><li><strong>Live Update:</strong> The backend updates the database/cart; the frontend updates the UI state immediately without a page refresh.</li></ol><h2 id="_4-authentication-flow" tabindex="-1">4. Authentication Flow <a class="header-anchor" href="#_4-authentication-flow" aria-label="Permalink to &quot;4. Authentication Flow&quot;">​</a></h2><p>The project utilizes <strong>NextAuth.js</strong> integrated with Bagisto&#39;s authentication system.</p>',19)),(i(),n(d,null,{default:r(()=>[l(o,{id:"mermaid-165",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20User%0A%20%20%20%20participant%20NextJS%20as%20Next.js%20(Client)%0A%20%20%20%20participant%20Server%20as%20Next.js%20(Server)%0A%20%20%20%20participant%20Bagisto%20as%20Bagisto%20API%0A%0A%20%20%20%20User-%3E%3ENextJS%3A%20Enter%20credentials%0A%20%20%20%20NextJS-%3E%3EServer%3A%20Call%20%60signIn()%60%0A%20%20%20%20Server-%3E%3EBagisto%3A%20Send%20login%20mutation%0A%20%20%20%20Bagisto--%3E%3EServer%3A%20Return%20API%20Token%0A%20%20%20%20Server-%3E%3EServer%3A%20Store%20Token%20in%20encrypted%20JWT%0A%20%20%20%20Server--%3E%3ENextJS%3A%20Authentication%20Success%0A%20%20%20%20NextJS-%3E%3EUser%3A%20Redirect%20to%20Account%2FHome%0A"})]),fallback:r(()=>[...e[1]||(e[1]=[a(" Loading... ",-1)])]),_:1})),e[7]||(e[7]=s('<h2 id="_5-deployment-architecture" tabindex="-1">5. Deployment Architecture <a class="header-anchor" href="#_5-deployment-architecture" aria-label="Permalink to &quot;5. Deployment Architecture&quot;">​</a></h2><p>When deployed, the systems are typically partitioned:</p><ul><li><strong>Frontend Hosting:</strong> Vercel or Netlify (highly optimized for Next.js).</li><li><strong>Backend Hosting:</strong> A VPS or Cloud Instance (AWS, DigitalOcean) running PHP, Nginx, and MySQL.</li><li><strong>Asset Delivery:</strong> Images are often served via a CDN (Cloudflare or Bagisto&#39;s integrated storage).</li></ul><h2 id="summary-of-benefits" tabindex="-1">Summary of Benefits <a class="header-anchor" href="#summary-of-benefits" aria-label="Permalink to &quot;Summary of Benefits&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Feature</th><th>Architectural Benefit</th></tr></thead><tbody><tr><td><strong>Decoupling</strong></td><td>Frontend and Backend can be updated independently.</td></tr><tr><td><strong>GraphQL</strong></td><td>Only the necessary data is transferred, improving speed on mobile devices.</td></tr><tr><td><strong>Next.js Rendering</strong></td><td>Fast First Contentful Paint (FCP) and excellent SEO.</td></tr><tr><td><strong>Scalability</strong></td><td>High-traffic storefronts can scale on the frontend without overloading the backend.</td></tr></tbody></table><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>For more information on how to configure the connection between these layers, see the <a href="/bagisto-headless-ecommerce/getting-started/quick-start-guide">Quick Start Guide</a>.</p></div>',6))])}const y=c(u,[["render",p]]);export{x as __pageData,y as default};
