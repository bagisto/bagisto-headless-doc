import{j as n,E as r,c as s,b as t,ah as a,h as d,w as i,f as l,I as c,ai as h}from"./chunks/framework.Br27zpCu.js";const A=JSON.parse('{"title":"Core Module Overview","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/core-module/core-overview.md","filePath":"bagisto-native/core-module/core-overview.md","lastUpdated":1769095842000}'),p={name:"bagisto-native/core-module/core-overview.md"};function u(m,e,v,g,b,f){const o=r("Mermaid");return t(),s("div",null,[e[1]||(e[1]=a('<h1 id="core-module-overview" tabindex="-1">Core Module Overview <a class="header-anchor" href="#core-module-overview" aria-label="Permalink to &quot;Core Module Overview&quot;">​</a></h1><p>The <code>@bagisto-native/core</code> package is the engine that powers the Bagisto Native experience. It operates invisibly for the most part but is responsible for every interaction between your web interface and the native app shell.</p><h2 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h2><p>It is built as a set of <strong>Web Components</strong> (Custom Elements) that adhere to the W3C standard. This means they are browser-native and can be used with any JavaScript framework (React, Vue, Angular, or Vanilla JS).</p><p>This section dives deep into the internals of the core module, explaining how it works and how to use it effectively.</p><h2 id="race-conditions-event-architecture" tabindex="-1">Race Conditions &amp; Event Architecture <a class="header-anchor" href="#race-conditions-event-architecture" aria-label="Permalink to &quot;Race Conditions &amp; Event Architecture&quot;">​</a></h2><p>One common challenge in Hybrid App development is the <strong>Race Condition</strong> between the Native Bridge initialization and your Web App&#39;s logic (e.g., React Hydration).</p><p><strong>The Problem:</strong> When your app loads, you might want to immediately send data to the native layer (e.g., &quot;Set Cart Count to 5&quot;). However, the Strada Bridge might not be fully connected yet. If you try to send a message before the bridge is ready, it will be ignored.</p><p><strong>The Solution: Event-Based Architecture</strong> To solve this, Bagisto Native components emit a specific event when they are fully connected and ready to receive messages.</p><h3 id="communication-flow" tabindex="-1">Communication Flow <a class="header-anchor" href="#communication-flow" aria-label="Permalink to &quot;Communication Flow&quot;">​</a></h3>',10)),(t(),d(h,null,{default:i(()=>[c(o,{id:"mermaid-30",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20WebApp%20as%20Web%20App%20(React)%0A%20%20%20%20participant%20DOM%20as%20DOM%20Element%0A%20%20%20%20participant%20Bridge%20as%20Native%20Bridge%20(Strada)%0A%20%20%20%20participant%20Native%20as%20Native%20App%20(iOS%2FAndroid)%0A%0A%20%20%20%20WebApp-%3E%3EDOM%3A%20Mounts%20%3Cdynamic-button%3E%0A%20%20%20%20Note%20over%20Bridge%3A%20Bridge%20initializes%20asynchronously%0A%20%20%20%20Bridge-%3E%3EDOM%3A%20Scans%20for%20data-controller%3D%22bridge--...%22%0A%20%20%20%20Bridge-%3E%3EBridge%3A%20Connects%20Component%0A%20%20%20%20Bridge--%3E%3EDOM%3A%20Emits%20'bagisto-native%3Adynamic-button-ready'%0A%20%20%20%20DOM--%3E%3EWebApp%3A%20Event%20Triggered%0A%20%20%20%20WebApp-%3E%3EBridge%3A%20Sends%20%22cartcount%22%20%7B%20count%3A%205%20%7D%0A%20%20%20%20Bridge-%3E%3ENative%3A%20Updates%20Native%20UI%0A"})]),fallback:i(()=>[...e[0]||(e[0]=[l(" Loading... ",-1)])]),_:1})),e[2]||(e[2]=a('<h3 id="standard-events" tabindex="-1">Standard Events <a class="header-anchor" href="#standard-events" aria-label="Permalink to &quot;Standard Events&quot;">​</a></h3><p>Each bridge component emits a standardized event upon connection:</p><table tabindex="0"><thead><tr><th style="text-align:left;">Component</th><th style="text-align:left;">Event Name</th><th style="text-align:left;">Purpose</th></tr></thead><tbody><tr><td style="text-align:left;">DynamicButton</td><td style="text-align:left;"><code>bagisto-native:dynamic-button-ready</code></td><td style="text-align:left;">Used to sync initial cart count or navbar state.</td></tr><tr><td style="text-align:left;">ThemeMode</td><td style="text-align:left;"><code>bagisto-native:theme-mode-ready</code></td><td style="text-align:left;">Used to sync initial theme (dark/light) preference.</td></tr></tbody></table><p>By listening to these events, you ensure your code never fails due to a race condition.</p><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Explore <a href="./web-components">Web Components</a></li><li>Learn about <a href="./utility-functions">Utility Functions</a></li><li>Understand <a href="./best-practices">Best Practices</a></li></ul>',6))])}const E=n(p,[["render",u]]);export{A as __pageData,E as default};
