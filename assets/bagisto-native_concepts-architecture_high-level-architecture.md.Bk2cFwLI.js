import{j as l,E as n,c as s,b as t,q as a,h as c,ah as d,f as i,w as r,I as h,ai as b}from"./chunks/framework.Br27zpCu.js";const y=JSON.parse('{"title":"High-level Architecture","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/concepts-architecture/high-level-architecture.md","filePath":"bagisto-native/concepts-architecture/high-level-architecture.md","lastUpdated":1769687094000}'),u={name:"bagisto-native/concepts-architecture/high-level-architecture.md"};function p(m,e,g,A,f,v){const o=n("Mermaid");return t(),s("div",null,[e[1]||(e[1]=a("h1",{id:"high-level-architecture",tabindex:"-1"},[i("High-level Architecture "),a("a",{class:"header-anchor",href:"#high-level-architecture","aria-label":'Permalink to "High-level Architecture"'},"​")],-1)),e[2]||(e[2]=a("p",null,"Bagisto Native provides a complete ecosystem for building native mobile applications using web technologies. The architecture consists of four main layers that work together seamlessly.",-1)),e[3]||(e[3]=a("h2",{id:"architecture-overview",tabindex:"-1"},[i("Architecture Overview "),a("a",{class:"header-anchor",href:"#architecture-overview","aria-label":'Permalink to "Architecture Overview"'},"​")],-1)),(t(),c(b,null,{default:r(()=>[h(o,{id:"mermaid-9",class:"mermaid",graph:"%25%25%7Binit%3A%20%7B%0A%20%20%22theme%22%3A%20%22base%22%2C%0A%20%20%22themeVariables%22%3A%20%7B%0A%20%20%20%20%22background%22%3A%20%22%230f172a%22%2C%0A%20%20%20%20%22primaryColor%22%3A%20%22%231e293b%22%2C%0A%20%20%20%20%22primaryTextColor%22%3A%20%22%23e2e8f0%22%2C%0A%20%20%20%20%22primaryBorderColor%22%3A%20%22%23334155%22%2C%0A%20%20%20%20%22lineColor%22%3A%20%22%2364748b%22%2C%0A%20%20%20%20%22secondaryColor%22%3A%20%22%230ea5e9%22%2C%0A%20%20%20%20%22tertiaryColor%22%3A%20%22%2322c55e%22%2C%0A%20%20%20%20%22fontSize%22%3A%20%2216px%22%0A%20%20%7D%2C%0A%20%20%22flowchart%22%3A%20%7B%0A%20%20%20%20%22nodeSpacing%22%3A%2050%2C%0A%20%20%20%20%22rankSpacing%22%3A%2070%2C%0A%20%20%20%20%22padding%22%3A%2020%2C%0A%20%20%20%20%22useMaxWidth%22%3A%20false%0A%20%20%7D%0A%7D%7D%25%25%0A%0Agraph%20TB%0A%0A%20%20%20%20subgraph%20Backend%5B%22Backend%20Layer%22%5D%0A%20%20%20%20%20%20%20%20A%5B%22%3Cb%3EAny%20Backend%20Technology%3C%2Fb%3E%3Cbr%2F%3E%3Cbr%2F%3EREST%20%2F%20GraphQL%20%2F%20Custom%20APIs%3Cbr%2F%3E%3Cbr%2F%3ENode.js%20%E2%80%A2%20Python%20%E2%80%A2%20PHP%20%E2%80%A2%20Java%20%E2%80%A2%20.NET%20%E2%80%A2%20Go%3Cbr%2F%3EFirebase%20%E2%80%A2%20Supabase%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Frontend%5B%22Frontend%20Layer%22%5D%0A%20%20%20%20%20%20%20%20B%5B%22%3Cb%3EBagisto%20Headless%3C%2Fb%3E%3Cbr%2F%3ENext.js%20Web%20Application%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Bridge%5B%22Bridge%20Layer%22%5D%0A%20%20%20%20%20%20%20%20C%5B%22%3Cb%3EBagisto%20Native%20Framework%3C%2Fb%3E%3Cbr%2F%3E%22%5D%0A%20%20%20%20%20%20%20%20D%5B%22%3Cb%3Ebundle.js%3C%2Fb%3E%3Cbr%2F%3EHotwire%20Web%20Components%22%5D%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20subgraph%20Native%5B%22Native%20Layer%22%5D%0A%20%20%20%20%20%20%20%20E%5B%22iOS%20App%3Cbr%2F%3ETurbo%20Native%20%2B%20Swift%22%5D%0A%20%20%20%20%20%20%20%20F%5B%22Android%20App%3Cbr%2F%3ETurbo%20Native%20%2B%20Kotlin%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20A%20--%3E%7CREST%20%2F%20GraphQL%20APIs%7C%20B%0A%20%20%20%20B%20--%3E%7CIntegrates%7C%20C%0A%20%20%20%20C%20--%3E%7CProvides%7C%20D%0A%20%20%20%20D%20%3C--%3E%7CBridge%20Communication%7C%20E%0A%20%20%20%20D%20%3C--%3E%7CBridge%20Communication%7C%20F%0A%0A%20%20%20%20%25%25%20Box%20Colors%0A%20%20%20%20style%20A%20fill%3A%237c3aed%2Cstroke%3A%23c4b5fd%2Ccolor%3A%23ffffff%0A%20%20%20%20style%20B%20fill%3A%230ea5e9%2Cstroke%3A%237dd3fc%2Ccolor%3A%23001018%0A%20%20%20%20style%20C%20fill%3A%2314b8a6%2Cstroke%3A%2399f6e4%2Ccolor%3A%23001018%0A%20%20%20%20style%20D%20fill%3A%2322c55e%2Cstroke%3A%23bbf7d0%2Ccolor%3A%23001018%0A%20%20%20%20style%20E%20fill%3A%23f59e0b%2Cstroke%3A%23fde68a%2Ccolor%3A%231e293b%0A%20%20%20%20style%20F%20fill%3A%23f59e0b%2Cstroke%3A%23fde68a%2Ccolor%3A%231e293b%0A"})]),fallback:r(()=>[...e[0]||(e[0]=[i(" Loading... ",-1)])]),_:1})),e[4]||(e[4]=d('<h2 id="architecture-layers" tabindex="-1">Architecture Layers <a class="header-anchor" href="#architecture-layers" aria-label="Permalink to &quot;Architecture Layers&quot;">​</a></h2><h3 id="_1-backend-layer-bagisto-backend" tabindex="-1">1. Backend Layer: Bagisto Backend <a class="header-anchor" href="#_1-backend-layer-bagisto-backend" aria-label="Permalink to &quot;1. Backend Layer: Bagisto Backend&quot;">​</a></h3><ul><li><strong>Technology</strong>: Laravel-based e-commerce platform</li><li><strong>Role</strong>: Provides core business logic, database management, and APIs</li><li><strong>Responsibilities</strong>: <ul><li>Product catalog management</li><li>Order processing</li><li>User authentication and authorization</li><li>Payment gateway integration</li><li>Inventory management</li><li>API endpoints for frontend consumption</li></ul></li></ul><h3 id="_2-frontend-layer-bagisto-headless" tabindex="-1">2. Frontend Layer: Bagisto Headless <a class="header-anchor" href="#_2-frontend-layer-bagisto-headless" aria-label="Permalink to &quot;2. Frontend Layer: Bagisto Headless&quot;">​</a></h3><ul><li><strong>Technology</strong>: Next.js-based headless commerce storefront</li><li><strong>Role</strong>: Renders the user interface and handles client-side logic</li><li><strong>Responsibilities</strong>: <ul><li>Server-side rendering (SSR) and static generation</li><li>SEO optimization</li><li>UI/UX presentation</li><li>Client-side routing</li><li>API integration with backend</li><li>Integration of Bagisto Native Framework components</li></ul></li></ul><h3 id="_3-bridge-layer-bagisto-native-framework" tabindex="-1">3. Bridge Layer: Bagisto Native Framework <a class="header-anchor" href="#_3-bridge-layer-bagisto-native-framework" aria-label="Permalink to &quot;3. Bridge Layer: Bagisto Native Framework&quot;">​</a></h3><ul><li><strong>Technology</strong>: TypeScript/JavaScript modules</li><li><strong>Components</strong>: <ul><li><code>@bagisto-native/core</code>: Core web components and utilities</li><li><code>@bagisto-native/react</code>: React wrappers for web components</li><li><code>bundle.js</code>: Minified Hotwire web components bundle</li></ul></li><li><strong>Role</strong>: Creates a communication bridge between web and native layers</li><li><strong>Responsibilities</strong>: <ul><li>Provides Web Components for native interactions</li><li>Manages bidirectional communication</li><li>Exposes utility functions and event triggers</li><li>Handles native feature integration (toast, location, search, etc.)</li></ul></li></ul><h3 id="_4-native-layer-mobile-applications" tabindex="-1">4. Native Layer: Mobile Applications <a class="header-anchor" href="#_4-native-layer-mobile-applications" aria-label="Permalink to &quot;4. Native Layer: Mobile Applications&quot;">​</a></h3><ul><li><strong>Technology</strong>: <ul><li>iOS: Swift + Turbo Native iOS</li><li>Android: Kotlin + Turbo Native Android</li></ul></li><li><strong>Role</strong>: Native mobile app shell that wraps the web application</li><li><strong>Responsibilities</strong>: <ul><li>WebView management</li><li>Native UI components (navigation, toolbars)</li><li>Platform-specific features (camera, location, notifications)</li><li>App store distribution</li><li>Native performance optimization</li></ul></li></ul><h2 id="data-flow" tabindex="-1">Data Flow <a class="header-anchor" href="#data-flow" aria-label="Permalink to &quot;Data Flow&quot;">​</a></h2><h3 id="request-flow-user-action-→-backend" tabindex="-1">Request Flow (User Action → Backend) <a class="header-anchor" href="#request-flow-user-action-→-backend" aria-label="Permalink to &quot;Request Flow (User Action → Backend)&quot;">​</a></h3><ol><li>User interacts with the mobile app (iOS/Android)</li><li>Native app loads web content via Turbo Native WebView</li><li>Bagisto Headless (Next.js) renders the UI</li><li>User action triggers API call to Bagisto Backend</li><li>Backend processes request and returns response</li><li>Headless updates UI accordingly</li><li>Native app reflects the changes</li></ol><h3 id="native-feature-flow-web-→-native" tabindex="-1">Native Feature Flow (Web → Native) <a class="header-anchor" href="#native-feature-flow-web-→-native" aria-label="Permalink to &quot;Native Feature Flow (Web → Native)&quot;">​</a></h3><ol><li>Web application uses Bagisto Native components</li><li>Component triggers event via <code>bundle.js</code> bridge</li><li>Turbo Native intercepts the event</li><li>Native code executes platform-specific functionality</li><li>Native sends result back via bridge</li><li>Web application receives and processes the result</li></ol><h2 id="key-architectural-principles" tabindex="-1">Key Architectural Principles <a class="header-anchor" href="#key-architectural-principles" aria-label="Permalink to &quot;Key Architectural Principles&quot;">​</a></h2><h3 id="separation-of-concerns" tabindex="-1">Separation of Concerns <a class="header-anchor" href="#separation-of-concerns" aria-label="Permalink to &quot;Separation of Concerns&quot;">​</a></h3><p>Each layer has a distinct responsibility:</p><ul><li>Backend handles business logic</li><li>Headless manages presentation</li><li>Native Framework provides the bridge</li><li>Native apps deliver platform integration</li></ul><h3 id="progressive-enhancement" tabindex="-1">Progressive Enhancement <a class="header-anchor" href="#progressive-enhancement" aria-label="Permalink to &quot;Progressive Enhancement&quot;">​</a></h3><p>The application works as a web app first, then enhances with native features when available.</p><h3 id="reusability" tabindex="-1">Reusability <a class="header-anchor" href="#reusability" aria-label="Permalink to &quot;Reusability&quot;">​</a></h3><p>The same Bagisto Headless codebase serves:</p><ul><li>Web browsers</li><li>iOS native app</li><li>Android native app</li></ul><h3 id="performance" tabindex="-1">Performance <a class="header-anchor" href="#performance" aria-label="Permalink to &quot;Performance&quot;">​</a></h3><ul><li>SSR/SSG from Next.js for fast initial loads</li><li>Native navigation for app-like experience</li><li>Optimized bridge communication for smooth interactions</li></ul><h2 id="communication-mechanisms" tabindex="-1">Communication Mechanisms <a class="header-anchor" href="#communication-mechanisms" aria-label="Permalink to &quot;Communication Mechanisms&quot;">​</a></h2><h3 id="web-to-native" tabindex="-1">Web to Native <a class="header-anchor" href="#web-to-native" aria-label="Permalink to &quot;Web to Native&quot;">​</a></h3><ul><li>Custom events dispatched by Web Components</li><li>Hotwire bridge intercepts events</li><li>Native listeners execute corresponding actions</li></ul><h3 id="native-to-web" tabindex="-1">Native to Web <a class="header-anchor" href="#native-to-web" aria-label="Permalink to &quot;Native to Web&quot;">​</a></h3><ul><li>Native components dispatch custom events</li><li>JavaScript event listeners in web application</li><li>React components react to state changes</li></ul><h2 id="technology-stack-summary" tabindex="-1">Technology Stack Summary <a class="header-anchor" href="#technology-stack-summary" aria-label="Permalink to &quot;Technology Stack Summary&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Layer</th><th>Primary Technology</th><th>Supporting Technologies</th></tr></thead><tbody><tr><td>Backend</td><td>Laravel</td><td>MySQL/PostgreSQL, Redis, PHP</td></tr><tr><td>Headless</td><td>Next.js</td><td>React, TypeScript, Tailwind CSS</td></tr><tr><td>Bridge</td><td>Hotwire</td><td>Web Components, Custom Events</td></tr><tr><td>iOS</td><td>Swift</td><td>Turbo Native iOS, WebKit</td></tr><tr><td>Android</td><td>Kotlin</td><td>Turbo Native Android, WebView</td></tr></tbody></table><h2 id="benefits-of-this-architecture" tabindex="-1">Benefits of This Architecture <a class="header-anchor" href="#benefits-of-this-architecture" aria-label="Permalink to &quot;Benefits of This Architecture&quot;">​</a></h2><ol><li><strong>Code Reusability</strong>: Write once (web), deploy everywhere (web, iOS, Android)</li><li><strong>Rapid Development</strong>: Leverage web development speed with native app benefits</li><li><strong>Easy Updates</strong>: Update web content without app store submissions</li><li><strong>Native Performance</strong>: Critical features use native code for best performance</li><li><strong>Maintainability</strong>: Clear separation makes each layer easier to maintain</li><li><strong>Scalability</strong>: Each layer can scale independently based on needs</li></ol><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Understand the <a href="./web-native-communication-flow">Web ↔ Native Communication Flow</a></li><li>Learn about <a href="./roles-of-components">Roles of Components</a></li><li>Explore <a href="./hotwire-turbo-native">Hotwire &amp; Turbo Native</a></li></ul>',36))])}const w=l(u,[["render",p]]);export{y as __pageData,w as default};
