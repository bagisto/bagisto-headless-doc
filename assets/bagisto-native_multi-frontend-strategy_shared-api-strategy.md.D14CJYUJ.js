import{j as t,c as a,b as s,ah as r}from"./chunks/framework.Br27zpCu.js";const c=JSON.parse('{"title":"Shared API Strategy","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/multi-frontend-strategy/shared-api-strategy.md","filePath":"bagisto-native/multi-frontend-strategy/shared-api-strategy.md","lastUpdated":1769095842000}'),i={name:"bagisto-native/multi-frontend-strategy/shared-api-strategy.md"};function o(n,e,l,h,d,p){return s(),a("div",null,[...e[0]||(e[0]=[r('<h1 id="shared-api-strategy" tabindex="-1">Shared API Strategy <a class="header-anchor" href="#shared-api-strategy" aria-label="Permalink to &quot;Shared API Strategy&quot;">​</a></h1><p>A key benefit of Bagisto Native is that it consumes the <strong>exact same API</strong> as your web storefront and other headless channels.</p><h2 id="bagisto-graphql-api" tabindex="-1">Bagisto GraphQL API <a class="header-anchor" href="#bagisto-graphql-api" aria-label="Permalink to &quot;Bagisto GraphQL API&quot;">​</a></h2><p>The native app does not require a special &quot;mobile API&quot;. It relies on the standard Bagisto GraphQL endpoints.</p><ul><li><strong>Endpoint</strong>: <code>https://your-store.com/graphql</code></li><li><strong>Documentation</strong>: <a href="https://devdocs.bagisto.com/1.x/graphql/" target="_blank" rel="noreferrer">Bagisto GraphQL Docs</a></li></ul><h2 id="authentication-sharing" tabindex="-1">Authentication Sharing <a class="header-anchor" href="#authentication-sharing" aria-label="Permalink to &quot;Authentication Sharing&quot;">​</a></h2><p>As discussed in <a href="./../advanced-guides/authentication-flows">Authentication Flows</a>, you can share sessions.</p><ol><li><strong>Cookie Sharing</strong>: The native WebView enables <code>HttpOnly</code> cookies. Login once on web, and the session persists for subsequent GraphQL calls made by the browser.</li><li><strong>State Management</strong>: Use a library like <strong>Apollo Client</strong> or <strong>TanStack Query</strong> to manage server state. <ul><li>Since the API is shared, you can rehydrate your cache from server-side renders (Next.js) to the client effortlessly.</li></ul></li></ol><h2 id="versioning" tabindex="-1">Versioning <a class="header-anchor" href="#versioning" aria-label="Permalink to &quot;Versioning&quot;">​</a></h2><p>Since the Web and Native app share the same frontend codebase (mostly), API versioning issues are minimized. Typically, the &quot;Native App&quot; is just a window into your &quot;Web App&quot;.</p><ul><li><strong>Update Strategy</strong>: When you deploy a new version of your Web App (new API fields, new UI), the Native App gets it <strong>instantly</strong>. No App Store review needed.</li><li><strong>Breaking Changes</strong>: If you change the GraphQL schema, ensure your web deployment coincides with the backend update.</li></ul><h2 id="api-extensions" tabindex="-1">API Extensions <a class="header-anchor" href="#api-extensions" aria-label="Permalink to &quot;API Extensions&quot;">​</a></h2><p>If you need native-specific data (e.g., &quot;is this user on iOS?&quot;), avoid creating new API endpoints. Instead:</p><ol><li>Pass context via HTTP Headers in the WebView. <ul><li><code>X-Platform: iOS</code></li></ul></li><li>Or check the User-Agent string on the server.</li></ol><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Learn about <a href="./react-spa-usage">React SPA Usage</a></li><li>Explore <a href="./future-support">Future Support</a></li><li>Understand <a href="./../introduction/supported-ecosystems">Backend Support</a></li></ul>',16)])])}const g=t(i,[["render",o]]);export{c as __pageData,g as default};
