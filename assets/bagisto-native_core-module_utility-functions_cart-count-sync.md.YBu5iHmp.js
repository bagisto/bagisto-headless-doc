import{j as t,c as i,b as s,ah as e}from"./chunks/framework.Br27zpCu.js";const k=JSON.parse('{"title":"Cart Count Sync","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/core-module/utility-functions/cart-count-sync.md","filePath":"bagisto-native/core-module/utility-functions/cart-count-sync.md","lastUpdated":1769089279000}'),n={name:"bagisto-native/core-module/utility-functions/cart-count-sync.md"};function l(r,a,h,o,p,c){return s(),i("div",null,[...a[0]||(a[0]=[e(`<h1 id="cart-count-sync" tabindex="-1">Cart Count Sync <a class="header-anchor" href="#cart-count-sync" aria-label="Permalink to &quot;Cart Count Sync&quot;">​</a></h1><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p>This utility communicates with the native layer to set the numeric badge displayed on the cart icon in the top or bottom navigation bars.</p><h3 id="triggercartcountvalue-cartcount-number" tabindex="-1"><code>triggerCartCountValue(cartcount: number)</code> <a class="header-anchor" href="#triggercartcountvalue-cartcount-number" aria-label="Permalink to &quot;\`triggerCartCountValue(cartcount: number)\`&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Parameter</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>cartcount</code></td><td style="text-align:left;"><code>number</code></td><td style="text-align:left;">The total number of items in the cart to display on the badge.</td></tr></tbody></table><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { triggerCartCountValue } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@bagisto-native/core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Typical usage inside a cart update logic</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateCart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newCart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> qty</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newCart.items_qty </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    triggerCartCountValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(qty);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="handling-race-conditions" tabindex="-1">Handling Race Conditions <a class="header-anchor" href="#handling-race-conditions" aria-label="Permalink to &quot;Handling Race Conditions&quot;">​</a></h2><p>If you need to sync the cart count immediately on page load, ensure the <code>DynamicButton</code> component (which manages the cart icon) is ready.</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bagisto-native:dynamic-button-ready&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Bridge is ready, safe to send initial cart count</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    triggerCartCountValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(initialQty);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Understand <a href="./turbo-native-detection">Turbo Native detection</a></li><li>Learn about <a href="./server-vs-client-usage">Server vs Client Usage</a></li><li>Explore <a href="./../best-practices">Best Practices</a></li></ul>`,12)])])}const u=t(n,[["render",l]]);export{k as __pageData,u as default};
