import{j as a,c as s,b as e,ah as t}from"./chunks/framework.Br27zpCu.js";const c=JSON.parse('{"title":"Using with React SPA (Vite/CRA)","description":"","frontmatter":{},"headers":[],"relativePath":"bagisto-native/multi-frontend-strategy/react-spa-usage.md","filePath":"bagisto-native/multi-frontend-strategy/react-spa-usage.md","lastUpdated":1769093839000}'),n={name:"bagisto-native/multi-frontend-strategy/react-spa-usage.md"};function r(l,i,p,h,o,d){return e(),s("div",null,[...i[0]||(i[0]=[t(`<h1 id="using-with-react-spa-vite-cra" tabindex="-1">Using with React SPA (Vite/CRA) <a class="header-anchor" href="#using-with-react-spa-vite-cra" aria-label="Permalink to &quot;Using with React SPA (Vite/CRA)&quot;">​</a></h1><p>While Next.js is recommended, Bagisto Native is fully compatible with standard React Single Page Applications (SPAs) built with Vite or Create React App.</p><h2 id="setup-differences" tabindex="-1">Setup Differences <a class="header-anchor" href="#setup-differences" aria-label="Permalink to &quot;Setup Differences&quot;">​</a></h2><h3 id="_1-turbo-drive-virtual-dom" tabindex="-1">1. Turbo Drive &amp; Virtual DOM <a class="header-anchor" href="#_1-turbo-drive-virtual-dom" aria-label="Permalink to &quot;1. Turbo Drive &amp; Virtual DOM&quot;">​</a></h3><p>In an SPA, you typically use <code>react-router-dom</code>. Turbo Drive (used by Hotwire Native) is designed to intercept link clicks and fetch HTML.</p><p><strong>Hybrid Approach:</strong></p><ul><li><strong>Native Shell</strong>: The native app delegates navigation to Turbo.</li><li><strong>Web</strong>: You can continue to use <code>react-router</code> for web-only users, OR adopt Turbo Drive for the entire experience.</li></ul><p>Recommended: If building a dedicated mobile-web experience for the native app, allow Turbo Drive to handle the navigation. It effectively turns your SPA into a &quot;Multi-Page App&quot; feel which native apps prefer.</p><h3 id="_2-initialization" tabindex="-1">2. Initialization <a class="header-anchor" href="#_2-initialization" aria-label="Permalink to &quot;2. Initialization&quot;">​</a></h3><p>Initialize the bridge in your <code>main.tsx</code> or <code>App.tsx</code>:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { startBridge } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@bagisto-native/core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Initialize on app mount</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   startBridge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, []);</span></span></code></pre></div><h3 id="_3-handling-navigation" tabindex="-1">3. Handling Navigation <a class="header-anchor" href="#_3-handling-navigation" aria-label="Permalink to &quot;3. Handling Navigation&quot;">​</a></h3><p>If you are using <code>react-router-dom</code> <code>Link</code>, Turbo might not intercept it if it performs <code>e.preventDefault()</code>.</p><p>To ensure native transitions work:</p><ul><li>Use standard <code>&lt;a&gt;</code> tags for major page transitions (Product -&gt; Cart).</li><li>Or, programmatically trigger Turbo visits:</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Turbo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@hotwired/turbo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> goToCart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (window.BagistoNative) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Turbo.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">visit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/cart&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        navigate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/cart&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// React Router fallback</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="seo-considerations" tabindex="-1">SEO Considerations <a class="header-anchor" href="#seo-considerations" aria-label="Permalink to &quot;SEO Considerations&quot;">​</a></h2><p>SPAs traditionally suffer from poor SEO unless you use prerendering. If your native app points to the same URL as your public website, ensure your SPA is serving meta tags correctly (e.g., using <code>react-helmet</code>).</p><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Learn about <a href="./shared-api-strategy">Shared API Strategy</a></li><li>Explore <a href="./future-support">Future Support</a></li><li>Understand the <a href="./../react-module/react-overview">React Module</a></li></ul>`,20)])])}const g=a(n,[["render",r]]);export{c as __pageData,g as default};
